Рассмотрим пару пользователей <script type="math/tex">a</script> и <script type="math/tex">b</script>. Пусть они друзья. Тогда множества их друзей, не включающие <script type="math/tex">a</script> и <script type="math/tex">b</script>, назовем <script type="math/tex">F(a)</script> и <script type="math/tex">F(b)</script>. По условию задачи <script type="math/tex">F(a)</script> и <script type="math/tex">F(b)</script> не пересекаются. У любого пользователя 
из <script type="math/tex">F(a)</script> существует один общий друг с <script type="math/tex">b</script>. Понятно, что он может быть только из <script type="math/tex">F(b)</script>. Таким же образом у любого пользователя из <script type="math/tex">F(b)</script> существует единственный друг из <script type="math/tex">F(a)</script>. 
Такое может быть только в случае, если множества <script type="math/tex">F(a)</script> и <script type="math/tex">F(b)</script> содержат одинаковое число пользователей. Пусть теперь <script type="math/tex">a</script> и <script type="math/tex">b</script> не друзья. Тогда существует пользователь <script type="math/tex">c</script>, который 
общий для <script type="math/tex">a</script> и <script type="math/tex">b</script>. По уже доказанному, у <script type="math/tex">a</script> и <script type="math/tex">c</script> одинаковое число друзей, у <script type="math/tex">b</script> и <script type="math/tex">c</script> одинаковое число друзей, а значит <script type="math/tex">a</script> и <script type="math/tex">c</script> также имеют одинаковое число друзей.